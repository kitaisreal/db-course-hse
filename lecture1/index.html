<!DOCTYPE html>
<html lang="en">
<head>
    <title>HSE DB Course. Lecture 2.</title>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="shower/themes/yandex/styles/screen-16x9.css">

    <style type="text/css">
        code { display: block; white-space: pre; background-color: #EEE; }
        p.cloud { text-align: center; line-height: 1.5; }
        p.cloud span { font-size: 13pt; color: gray; padding: 0 20px 0 20px; white-space: nowrap; }
   </style>
</head>
<body class="shower list">
    <header class="caption">
        <h1>Базы данных 2022</h1>
    </header>

    <section class="slide" id="cover">
        <h1 style="margin-top: 150px;">Лекция 1. Реляционная модель</h1>
    </section>

    <section class="slide">
        <h2>План</h2>
        <p>1. Введение в базы данных.</p>
        <p>2. История СУБД.</p>
        <p>3. Реляционная модель данных.</p>
        <p>4. Примеры баз данных</p>
    </section>

    <section class="slide">
        <h1>Введение в базы данных</h1>
        <p><b>База данных</b> - организация взаимосвязанных данных, которая
            моделирует некоторые аспекты реального мира.</p>
        <p>Базы данных являются основным компонентом большинства
        приложений.</p>
    </section>

    <section class="slide">
        <h1>Введение в базы данных</h1>
        <p><b>Система управления базами данных (СУБД)</b> - это
            программное обеспечение, управляющее базой данных.</p>
        <p>Примеры MySQL, PostgreSQL.</p>
    </section>

    <section class="slide">
        <h1>Пример базы данных</h1>
        <p>База данных фильмов, например IMDB.</p>
        <p>Нам нужно хранить:</p>
        <p>1. Информацию о фильмах.</p>
        <p>2. Информацию о режиссерах.</p>
    </section>

    <section class="slide">
        <h1>FlatFile хранение данных</h1>
        <p>Храним данные в файле CSV.</p>
        <p>Отдельный файл для отдельной сущности (фильм, режиссер).</p>
        <p>Для поиска и обновления СУБД читает файл заного.</p>
    </section>

    <section class="slide">
        <h1>FlatFile хранение данных</h1>
        <p>Храним данные в файле CSV.</p>
        <p>Отдельный файл для отдельной сущности (фильм, режиссер).</p>
        <p>Для поиска и обновления СУБД читает файл заного.</p>
    </section>

    <section class="slide">
        <h1>FlatFile хранение данных проблемы</h1>
        <p>1. Поддержание целостности данных.</p>
        <p>2. Эффективность поиска и изменения данных.</p>
        <p>3. Стойкость к сбоям.</p>
        <p>4. Анализ информации.</p>
    </section>

    <section class="slide">
        <h1>Определение СУБД</h1>
        <p>СУБД - это программное обеспечение, которое позволяет приложениям хранить и анализировать информацию в базе данных.</p>
        <p>СУБД общего назначения позволяет определять, создавать, запрашивать, обновлять и администрировать базы данных.</p>
    </section>

    <section class="slide">
        <h1>История СУБД</h1>
        <p>СУБД было сложно создавать и поддерживать, потому что существовала тесная связь между логическими
и физическим уровнем.</p>
        <p>Логический уровень - уровень сущностей, их связей и атрибутов.</p>
        <p>Физический уровень - уровень хранения данных на диске</p>
    </section>

    <section class="slide">
        <h1>Реляционная модель данных</h1>
        <p>Тед Кодд заметил, что люди переписывали СУБД каждый раз, когда хотели изменить физический уровень.
поэтому в 1970 году он предложил реляционную модель, чтобы избежать этого. В этой реляционной модели есть три ключевых момента:
        <p>1. Хранить базу данных в простых структурах данных (relations).</p>
        <p>2. Доступ к данным через язык высокого уровня.</p>
        <p>3. Физическое хранение данных - детали конкретной реализации.</p>
    </section>

    <section class="slide">
        <h1>Реляционная модель данных</h1>
        <p><b>Модель данных</b> - это набор концепций для описания данных в базе данных.</p>
        <p><b>Схема</b> - это описание данных, используя модель данных.</p>
    </section>

    <section class="slide">
        <h1>Модели данных</h1>
        <p>1. Реляционная (Relational).</p>
        <p>2. Ключ/значение (Key/Value).</p>
        <p>3. Графовая (Graph).</p>
        <p>4. Документо-ориентированная (Document).</p>
        <p>5. Колоночная (Column).</p>
    </section>

    <section class="slide">
        <h1>Реляционная модель данных</h1>
        <p>Структурный аспект - определение отношений и их содержания. Это атрибуты, которые имеют отношения и
        значения, которые могут содержать эти атрибуты.</p>
        <p>Аспект целостности - методы поддержки целостности базы данных, проверка что содержимое базы данных удовлетворяет ограничениям.</p>
        <p>Аспект манипуляции - методы для получения и изменения данных в базы данных.</p>
    </section>

    <section class="slide">
        <h1>Реляционная модель данных</h1>
        <p><b>Отношение</b> - это неупорядоченный набор, содержащий отношения атрибутов, представляющих сущности. Поскольку
    отношения неупорядочены, СУБД может хранить их как угодно, с учетом оптимизации.</p>
        <p><b>Кортеж</b> - это набор значений атрибутов в отношении.
        Каждый атрибут может иметь значение NULL, что означает, что для данного атрибута кортежа значение не определено.</p>
        <p><b>Атрибут</b> - это имя, связанное с доменом (тип данных).</p>
    </section>

    <section class="slide">
        <h1>Реляционная модель данных</h1>
        <img style="width: 60%; height: 50%; margin-left: 160px;" src="pictures/relational_model.png"/>
    </section>

    <section class="slide">
        <h1>Реляционная модель данных</h1>
        <p><b>Первичный ключ (Primary Key)</b> отношения однозначно определяет отдельный кортеж. Некоторые СУБД автоматически создают внутренний
        первичный ключ, если вы его не определяете.</p>
        <p><b>Внешний ключ (Foreign Key)</b> указывает, что атрибут из одного отношения должен отображаться в кортеж в другом отношении.</p>
    </section>

    <section class="slide">
        <h1>Data manipulation language (DML)</h1>
        <p>Язык для хранения и извлечения информации из базы данных. Для этого есть два класса языков:</p>
        <p>1. Процедурные - запрос указывает (высокоуровневую) стратегию, которую СУБД должна использовать для поиска нужного
    результата.</p>
        <p>2. Декларативные - в запросе указывается только то, какие данные требуются, а не то, как их найти.</p>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра</h1>
        <p><b>Реляционная алгебра</b> - это набор основных операций для извлечения кортежей в отношении и управления ими.</p>
        <p>Каждый оператор принимает одно или несколько отношений в качестве входных данных и в качестве выходных данных выдает новое отношение.</p>
        <p>При написании запросов можно комбинировать эти операторы вместе для создания более сложных операций.<p>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Select</h1>
        <p><b>Выборка (Select)</b> - принимает отношение и выводит подмножество кортежей из этого отношения, которые удовлетворяют предикату.</p>
        <p>Синтаксис: σ predicate(R).</p>
        <code>SELECT value FROM test_table_1 WHERE key > 120;</code>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Projection</h1>
        <p><b>Проекция (Projection)</b> - принимает отношение и выводит отношение с кортежами которые содержат только перечисленные атрибуты.</p>
        <p>Можно переставить порядок атрибутов в входном отношении, и опционально удалить дубликаты.</p>
        <p>Можно манипулировать значениями в входном отношении.</p>
        <p>Синтаксис: πA1,A2,. . . ,An(R).</p>
        <code>SELECT value - 120, value as test_value FROM test_table_1;</code>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Union</h1>
        <p><b>Объединение (Union)</b> - принимает два отношения и выводит отношение которое содержит все кортежи, которые встречаются
        как минимум 1 раз в любом из отношений.</p>
        <p>Оба отношения обязаны иметь одинаковые атрибуты.</p>
        <p>Синтаксис: (R ∪ S).</p>
        <code>(SELECT * FROM test_table_1)
UNION
(SELECT * FROM test_table_2);</code>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Intersection</h1>
        <p><b>Пересечение (Intersection)</b> - принимает два отношения и выводит отношение которое содержит все кортежи, которые встречаются
        в обоих отношениях.</p>
        <p>Оба отношения обязаны иметь одинаковые атрибуты.</p>
        <p>Синтаксис: (R ∩ S).</p>
        <code>(SELECT * FROM test_table_1)
INTERSECT
(SELECT * FROM test_table_2);</code>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Difference</h1>
        <p><b>Вычитание (Difference)</b> - принимает два отношения и выводит отношение которое содержит кортежи которые есть в первом отношении
            , но не встречаются во втором.</p>
        <p>Оба отношения обязаны иметь одинаковые атрибуты.</p>
        <p>Синтаксис: (R − S).</p>
        <code>(SELECT * FROM test_table_1)
EXCEPT
(SELECT * FROM test_table_2);</code>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Product</h1>
        <p><b>Произведение (Product)</b> - принимает два отношения и выводит отношение которое содержит всевозможные комбинации кортежей из
        первого и второго отношений.</p>
        <p>Синтаксис: (R × S).</p>
        <code>SELECT * FROM test_table_1 CROSS JOIN test_table_2;</code>
        <code>SELECT * FROM test_table_1, test_table_2;</code>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Join</h1>
        <p><b>Соединение (Join)</b> - принимает два отношения и выводит отношение которое содержит комбинации кортежей из
        первого и второго отношений, где для каждого общего атрибута из отношений, значения одинаковые.</p>
        <p>Синтаксис: R ⋈ S.</p>
        <code>SELECT * FROM test_table_1 NATURAL JOIN test_table_2;</code>
    </section>

    <section class="slide">
        <h1>Реляционная алгебра. Операторы</h1>
        <p>1. Переименование (ρ).</p>
        <p>2. Агрегация (γ).</p>
        <p>3. Сортировка (τ).</p>
        <p>4. Двойное исключение (δ).</p>
        <p>5. Присвоение (R ← S).</p>
        <p>6. Деление (R ÷ S).</p>
    </section>

    <section class="slide">
        <h1>Реляционная модель данных. SQL</h1>
        <p>Реляционная модель данных - не зависит от языка запросов.</p>
        <p>SQL - стандарт для реляционных СУБД.</p>
    </section>

    <section class="slide">
        <h1>Заключение</h1>
        <p>Базы данных используются повсеместно.</p>
        <p>Разделение логического и физического уровня дает возможности для изменения способа хранения, без изменения интерфейсов.</p>
        <p>Реляционная модель данных предоставляет высокоуровневые абстракции для реализации СУБД.</p>
    </section>

    <section class="slide">
        <h1>Вопросы ?</h1>
    </section>

    <div class="progress"></div>
    <script src="shower/shower.min.js"></script>

    <!--Video plugin-->
    <link rel="stylesheet" href="shower/shower-video.css">
    <script src="shower/shower-video.js"></script>
    <!--/Video plugin-->
</body>
</html>
